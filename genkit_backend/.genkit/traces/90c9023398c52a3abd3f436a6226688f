{"traceId":"90c9023398c52a3abd3f436a6226688f","spans":{"76f56953496af2bb":{"spanId":"76f56953496af2bb","traceId":"90c9023398c52a3abd3f436a6226688f","parentSpanId":"9c036c10157ade69","startTime":1746887618375,"endTime":1746887621536.2861,"attributes":{"genkit:type":"util","genkit:name":"generate","genkit:path":"/{groupingHelperFlow,t:flow}/{generate,t:util}","genkit:input":"{\"model\":\"googleai/gemini-2.0-flash\",\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"\\nYou are a logistics grouping expert. Review the following group of orders and determine whether they are efficiently grouped. Base your decision on:\\n\\n- Car type compatibility (all orders must match)\\n- Pickup and delivery time windows should be realistically compatible\\n- LDM and weight must be within truck limits (e.g. <13.6 LDM, <24t)\\n- Orders must not conflict with ADR rules\\n- Group's pricePerKm should be in the acceptable range (e.g. 1.5–2.5 €/km)\\n- Destinations should be reasonably close (same region or country if possible)\\n\\nReturn a JSON object in this exact format:\\n{\\n  \\\"isGoodGroup\\\": true | false,\\n  \\\"issues\\\": [\\\"issue 1\\\", \\\"issue 2\\\"],\\n  \\\"recommendations\\\": [\\\"recommendation 1\\\", \\\"recommendation 2\\\"],\\n  \\\"reasoning\\\": \\\"Brief explanation for your assessment\\\"\\n}\\n\\nInput:\\n{\\n  \\\"groupID\\\": \\\"\\\",\\n  \\\"totalDistance\\\": 0,\\n  \\\"pricePerKm\\\": 0,\\n  \\\"totalPrice\\\": 0,\\n  \\\"totalLDM\\\": 0,\\n  \\\"totalWeight\\\": 0,\\n  \\\"orders\\\": [\\n    {\\n      \\\"orderID\\\": \\\"\\\",\\n      \\\"orderName\\\": \\\"\\\",\\n      \\\"pickupPlace\\\": {\\n        \\\"countryCode\\\": \\\"\\\",\\n        \\\"postalCode\\\": \\\"\\\",\\n        \\\"name\\\": \\\"\\\",\\n        \\\"code\\\": \\\"\\\",\\n        \\\"latitude\\\": 0,\\n        \\\"longitude\\\": 0\\n      },\\n      \\\"deliveryPlace\\\": {\\n        \\\"countryCode\\\": \\\"\\\",\\n        \\\"postalCode\\\": \\\"\\\",\\n        \\\"name\\\": \\\"\\\",\\n        \\\"code\\\": \\\"\\\",\\n        \\\"latitude\\\": 0,\\n        \\\"longitude\\\": 0\\n      },\\n      \\\"pickupTimeWindow\\\": {\\n        \\\"start\\\": \\\"\\\",\\n        \\\"end\\\": \\\"\\\"\\n      },\\n      \\\"deliveryTimeWindow\\\": {\\n        \\\"start\\\": \\\"\\\",\\n        \\\"end\\\": \\\"\\\"\\n      },\\n      \\\"ldm\\\": 0,\\n      \\\"weight\\\": 0,\\n      \\\"price\\\": 0,\\n      \\\"carTypeName\\\": \\\"\\\",\\n      \\\"distance\\\": 0,\\n      \\\"isAdrOrder\\\": false,\\n      \\\"canGroupWithAdr\\\": false\\n    }\\n  ]\\n}\\n\"}]}],\"config\":{\"temperature\":0.7},\"output\":{\"schema\":{\"_def\":{\"unknownKeys\":\"strip\",\"catchall\":{\"_def\":{\"typeName\":\"ZodNever\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"}},\"typeName\":\"ZodObject\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"},\"_cached\":null},\"format\":\"json\",\"jsonSchema\":{\"type\":\"object\",\"properties\":{\"isGoodGroup\":{\"type\":\"boolean\"},\"issues\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"recommendations\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"isGoodGroup\",\"issues\",\"recommendations\",\"reasoning\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"{\\n  \\\"isGoodGroup\\\": false,\\n  \\\"issues\\\": [\\n    \\\"Missing groupID\\\",\\n    \\\"Missing totalDistance\\\",\\n    \\\"Missing pricePerKm\\\",\\n    \\\"Missing totalPrice\\\",\\n    \\\"Missing totalLDM\\\",\\n    \\\"Missing totalWeight\\\",\\n    \\\"Missing orderID\\\",\\n    \\\"Missing orderName\\\",\\n    \\\"Missing pickupPlace countryCode\\\",\\n    \\\"Missing pickupPlace postalCode\\\",\\n    \\\"Missing pickupPlace name\\\",\\n    \\\"Missing pickupPlace code\\\",\\n    \\\"Missing pickupPlace latitude\\\",\\n    \\\"Missing pickupPlace longitude\\\",\\n    \\\"Missing deliveryPlace countryCode\\\",\\n    \\\"Missing deliveryPlace postalCode\\\",\\n    \\\"Missing deliveryPlace name\\\",\\n    \\\"Missing deliveryPlace code\\\",\\n    \\\"Missing deliveryPlace latitude\\\",\\n    \\\"Missing deliveryPlace longitude\\\",\\n    \\\"Missing pickupTimeWindow start\\\",\\n    \\\"Missing pickupTimeWindow end\\\",\\n    \\\"Missing deliveryTimeWindow start\\\",\\n    \\\"Missing deliveryTimeWindow end\\\",\\n    \\\"Missing ldm\\\",\\n    \\\"Missing weight\\\",\\n    \\\"Missing price\\\",\\n    \\\"Missing carTypeName\\\",\\n    \\\"Missing distance\\\",\\n    \\\"Missing isAdrOrder\\\",\\n    \\\"Missing canGroupWithAdr\\\"\\n  ],\\n  \\\"reasoning\\\": \\\"The provided data contains multiple missing values for crucial group and order properties, making it impossible to evaluate the group's efficiency.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Populate all missing fields with relevant data.\\\",\\n    \\\"Verify that all orders are compatible with the same car type.\\\",\\n    \\\"Check if the pickup and delivery time windows are feasible and do not overlap.\\\",\\n    \\\"Ensure that the total LDM and weight of all orders are within the truck's capacity (LDM < 13.6, Weight < 24t).\\\",\\n    \\\"Confirm that there are no ADR conflicts among the orders.\\\",\\n    \\\"Calculate the price per kilometer and verify that it falls within the acceptable range (1.5-2.5 €/km).\\\",\\n    \\\"Analyze the pickup and delivery locations to determine if they are geographically close and efficient to combine.\\\"\\n  ]\\n}\"}]},\"finishReason\":\"stop\",\"usage\":{\"inputCharacters\":1622,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":1826,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":513,\"outputTokens\":451,\"totalTokens\":964},\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"{\\n  \\\"isGoodGroup\\\": false,\\n  \\\"issues\\\": [\\n    \\\"Missing groupID\\\",\\n    \\\"Missing totalDistance\\\",\\n    \\\"Missing pricePerKm\\\",\\n    \\\"Missing totalPrice\\\",\\n    \\\"Missing totalLDM\\\",\\n    \\\"Missing totalWeight\\\",\\n    \\\"Missing orderID\\\",\\n    \\\"Missing orderName\\\",\\n    \\\"Missing pickupPlace countryCode\\\",\\n    \\\"Missing pickupPlace postalCode\\\",\\n    \\\"Missing pickupPlace name\\\",\\n    \\\"Missing pickupPlace code\\\",\\n    \\\"Missing pickupPlace latitude\\\",\\n    \\\"Missing pickupPlace longitude\\\",\\n    \\\"Missing deliveryPlace countryCode\\\",\\n    \\\"Missing deliveryPlace postalCode\\\",\\n    \\\"Missing deliveryPlace name\\\",\\n    \\\"Missing deliveryPlace code\\\",\\n    \\\"Missing deliveryPlace latitude\\\",\\n    \\\"Missing deliveryPlace longitude\\\",\\n    \\\"Missing pickupTimeWindow start\\\",\\n    \\\"Missing pickupTimeWindow end\\\",\\n    \\\"Missing deliveryTimeWindow start\\\",\\n    \\\"Missing deliveryTimeWindow end\\\",\\n    \\\"Missing ldm\\\",\\n    \\\"Missing weight\\\",\\n    \\\"Missing price\\\",\\n    \\\"Missing carTypeName\\\",\\n    \\\"Missing distance\\\",\\n    \\\"Missing isAdrOrder\\\",\\n    \\\"Missing canGroupWithAdr\\\"\\n  ],\\n  \\\"reasoning\\\": \\\"The provided data contains multiple missing values for crucial group and order properties, making it impossible to evaluate the group's efficiency.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Populate all missing fields with relevant data.\\\",\\n    \\\"Verify that all orders are compatible with the same car type.\\\",\\n    \\\"Check if the pickup and delivery time windows are feasible and do not overlap.\\\",\\n    \\\"Ensure that the total LDM and weight of all orders are within the truck's capacity (LDM < 13.6, Weight < 24t).\\\",\\n    \\\"Confirm that there are no ADR conflicts among the orders.\\\",\\n    \\\"Calculate the price per kilometer and verify that it falls within the acceptable range (1.5-2.5 €/km).\\\",\\n    \\\"Analyze the pickup and delivery locations to determine if they are geographically close and efficient to combine.\\\"\\n  ]\\n}\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"avgLogprobs\":-0.13850160078568893}],\"usageMetadata\":{\"promptTokenCount\":513,\"candidatesTokenCount\":451,\"totalTokenCount\":964,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":513}],\"candidatesTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":451}]},\"modelVersion\":\"gemini-2.0-flash\"},\"request\":{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"\\nYou are a logistics grouping expert. Review the following group of orders and determine whether they are efficiently grouped. Base your decision on:\\n\\n- Car type compatibility (all orders must match)\\n- Pickup and delivery time windows should be realistically compatible\\n- LDM and weight must be within truck limits (e.g. <13.6 LDM, <24t)\\n- Orders must not conflict with ADR rules\\n- Group's pricePerKm should be in the acceptable range (e.g. 1.5–2.5 €/km)\\n- Destinations should be reasonably close (same region or country if possible)\\n\\nReturn a JSON object in this exact format:\\n{\\n  \\\"isGoodGroup\\\": true | false,\\n  \\\"issues\\\": [\\\"issue 1\\\", \\\"issue 2\\\"],\\n  \\\"recommendations\\\": [\\\"recommendation 1\\\", \\\"recommendation 2\\\"],\\n  \\\"reasoning\\\": \\\"Brief explanation for your assessment\\\"\\n}\\n\\nInput:\\n{\\n  \\\"groupID\\\": \\\"\\\",\\n  \\\"totalDistance\\\": 0,\\n  \\\"pricePerKm\\\": 0,\\n  \\\"totalPrice\\\": 0,\\n  \\\"totalLDM\\\": 0,\\n  \\\"totalWeight\\\": 0,\\n  \\\"orders\\\": [\\n    {\\n      \\\"orderID\\\": \\\"\\\",\\n      \\\"orderName\\\": \\\"\\\",\\n      \\\"pickupPlace\\\": {\\n        \\\"countryCode\\\": \\\"\\\",\\n        \\\"postalCode\\\": \\\"\\\",\\n        \\\"name\\\": \\\"\\\",\\n        \\\"code\\\": \\\"\\\",\\n        \\\"latitude\\\": 0,\\n        \\\"longitude\\\": 0\\n      },\\n      \\\"deliveryPlace\\\": {\\n        \\\"countryCode\\\": \\\"\\\",\\n        \\\"postalCode\\\": \\\"\\\",\\n        \\\"name\\\": \\\"\\\",\\n        \\\"code\\\": \\\"\\\",\\n        \\\"latitude\\\": 0,\\n        \\\"longitude\\\": 0\\n      },\\n      \\\"pickupTimeWindow\\\": {\\n        \\\"start\\\": \\\"\\\",\\n        \\\"end\\\": \\\"\\\"\\n      },\\n      \\\"deliveryTimeWindow\\\": {\\n        \\\"start\\\": \\\"\\\",\\n        \\\"end\\\": \\\"\\\"\\n      },\\n      \\\"ldm\\\": 0,\\n      \\\"weight\\\": 0,\\n      \\\"price\\\": 0,\\n      \\\"carTypeName\\\": \\\"\\\",\\n      \\\"distance\\\": 0,\\n      \\\"isAdrOrder\\\": false,\\n      \\\"canGroupWithAdr\\\": false\\n    }\\n  ]\\n}\\n\"}]}],\"config\":{\"temperature\":0.7},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"isGoodGroup\":{\"type\":\"boolean\"},\"issues\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"recommendations\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"isGoodGroup\",\"issues\",\"recommendations\",\"reasoning\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}}","genkit:state":"success"},"displayName":"generate","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"b053c31fd50cce58":{"spanId":"b053c31fd50cce58","traceId":"90c9023398c52a3abd3f436a6226688f","parentSpanId":"76f56953496af2bb","startTime":1746887618399,"endTime":1746887621493.6367,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"model","genkit:name":"googleai/gemini-2.0-flash","genkit:path":"/{groupingHelperFlow,t:flow}/{generate,t:util}/{googleai/gemini-2.0-flash,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"\\nYou are a logistics grouping expert. Review the following group of orders and determine whether they are efficiently grouped. Base your decision on:\\n\\n- Car type compatibility (all orders must match)\\n- Pickup and delivery time windows should be realistically compatible\\n- LDM and weight must be within truck limits (e.g. <13.6 LDM, <24t)\\n- Orders must not conflict with ADR rules\\n- Group's pricePerKm should be in the acceptable range (e.g. 1.5–2.5 €/km)\\n- Destinations should be reasonably close (same region or country if possible)\\n\\nReturn a JSON object in this exact format:\\n{\\n  \\\"isGoodGroup\\\": true | false,\\n  \\\"issues\\\": [\\\"issue 1\\\", \\\"issue 2\\\"],\\n  \\\"recommendations\\\": [\\\"recommendation 1\\\", \\\"recommendation 2\\\"],\\n  \\\"reasoning\\\": \\\"Brief explanation for your assessment\\\"\\n}\\n\\nInput:\\n{\\n  \\\"groupID\\\": \\\"\\\",\\n  \\\"totalDistance\\\": 0,\\n  \\\"pricePerKm\\\": 0,\\n  \\\"totalPrice\\\": 0,\\n  \\\"totalLDM\\\": 0,\\n  \\\"totalWeight\\\": 0,\\n  \\\"orders\\\": [\\n    {\\n      \\\"orderID\\\": \\\"\\\",\\n      \\\"orderName\\\": \\\"\\\",\\n      \\\"pickupPlace\\\": {\\n        \\\"countryCode\\\": \\\"\\\",\\n        \\\"postalCode\\\": \\\"\\\",\\n        \\\"name\\\": \\\"\\\",\\n        \\\"code\\\": \\\"\\\",\\n        \\\"latitude\\\": 0,\\n        \\\"longitude\\\": 0\\n      },\\n      \\\"deliveryPlace\\\": {\\n        \\\"countryCode\\\": \\\"\\\",\\n        \\\"postalCode\\\": \\\"\\\",\\n        \\\"name\\\": \\\"\\\",\\n        \\\"code\\\": \\\"\\\",\\n        \\\"latitude\\\": 0,\\n        \\\"longitude\\\": 0\\n      },\\n      \\\"pickupTimeWindow\\\": {\\n        \\\"start\\\": \\\"\\\",\\n        \\\"end\\\": \\\"\\\"\\n      },\\n      \\\"deliveryTimeWindow\\\": {\\n        \\\"start\\\": \\\"\\\",\\n        \\\"end\\\": \\\"\\\"\\n      },\\n      \\\"ldm\\\": 0,\\n      \\\"weight\\\": 0,\\n      \\\"price\\\": 0,\\n      \\\"carTypeName\\\": \\\"\\\",\\n      \\\"distance\\\": 0,\\n      \\\"isAdrOrder\\\": false,\\n      \\\"canGroupWithAdr\\\": false\\n    }\\n  ]\\n}\\n\"}]}],\"config\":{\"temperature\":0.7},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"isGoodGroup\":{\"type\":\"boolean\"},\"issues\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"recommendations\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"reasoning\":{\"type\":\"string\"}},\"required\":[\"isGoodGroup\",\"issues\",\"recommendations\",\"reasoning\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"candidates\":[{\"index\":0,\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"{\\n  \\\"isGoodGroup\\\": false,\\n  \\\"issues\\\": [\\n    \\\"Missing groupID\\\",\\n    \\\"Missing totalDistance\\\",\\n    \\\"Missing pricePerKm\\\",\\n    \\\"Missing totalPrice\\\",\\n    \\\"Missing totalLDM\\\",\\n    \\\"Missing totalWeight\\\",\\n    \\\"Missing orderID\\\",\\n    \\\"Missing orderName\\\",\\n    \\\"Missing pickupPlace countryCode\\\",\\n    \\\"Missing pickupPlace postalCode\\\",\\n    \\\"Missing pickupPlace name\\\",\\n    \\\"Missing pickupPlace code\\\",\\n    \\\"Missing pickupPlace latitude\\\",\\n    \\\"Missing pickupPlace longitude\\\",\\n    \\\"Missing deliveryPlace countryCode\\\",\\n    \\\"Missing deliveryPlace postalCode\\\",\\n    \\\"Missing deliveryPlace name\\\",\\n    \\\"Missing deliveryPlace code\\\",\\n    \\\"Missing deliveryPlace latitude\\\",\\n    \\\"Missing deliveryPlace longitude\\\",\\n    \\\"Missing pickupTimeWindow start\\\",\\n    \\\"Missing pickupTimeWindow end\\\",\\n    \\\"Missing deliveryTimeWindow start\\\",\\n    \\\"Missing deliveryTimeWindow end\\\",\\n    \\\"Missing ldm\\\",\\n    \\\"Missing weight\\\",\\n    \\\"Missing price\\\",\\n    \\\"Missing carTypeName\\\",\\n    \\\"Missing distance\\\",\\n    \\\"Missing isAdrOrder\\\",\\n    \\\"Missing canGroupWithAdr\\\"\\n  ],\\n  \\\"reasoning\\\": \\\"The provided data contains multiple missing values for crucial group and order properties, making it impossible to evaluate the group's efficiency.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Populate all missing fields with relevant data.\\\",\\n    \\\"Verify that all orders are compatible with the same car type.\\\",\\n    \\\"Check if the pickup and delivery time windows are feasible and do not overlap.\\\",\\n    \\\"Ensure that the total LDM and weight of all orders are within the truck's capacity (LDM < 13.6, Weight < 24t).\\\",\\n    \\\"Confirm that there are no ADR conflicts among the orders.\\\",\\n    \\\"Calculate the price per kilometer and verify that it falls within the acceptable range (1.5-2.5 €/km).\\\",\\n    \\\"Analyze the pickup and delivery locations to determine if they are geographically close and efficient to combine.\\\"\\n  ]\\n}\"}]},\"finishReason\":\"stop\",\"custom\":{}}],\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"{\\n  \\\"isGoodGroup\\\": false,\\n  \\\"issues\\\": [\\n    \\\"Missing groupID\\\",\\n    \\\"Missing totalDistance\\\",\\n    \\\"Missing pricePerKm\\\",\\n    \\\"Missing totalPrice\\\",\\n    \\\"Missing totalLDM\\\",\\n    \\\"Missing totalWeight\\\",\\n    \\\"Missing orderID\\\",\\n    \\\"Missing orderName\\\",\\n    \\\"Missing pickupPlace countryCode\\\",\\n    \\\"Missing pickupPlace postalCode\\\",\\n    \\\"Missing pickupPlace name\\\",\\n    \\\"Missing pickupPlace code\\\",\\n    \\\"Missing pickupPlace latitude\\\",\\n    \\\"Missing pickupPlace longitude\\\",\\n    \\\"Missing deliveryPlace countryCode\\\",\\n    \\\"Missing deliveryPlace postalCode\\\",\\n    \\\"Missing deliveryPlace name\\\",\\n    \\\"Missing deliveryPlace code\\\",\\n    \\\"Missing deliveryPlace latitude\\\",\\n    \\\"Missing deliveryPlace longitude\\\",\\n    \\\"Missing pickupTimeWindow start\\\",\\n    \\\"Missing pickupTimeWindow end\\\",\\n    \\\"Missing deliveryTimeWindow start\\\",\\n    \\\"Missing deliveryTimeWindow end\\\",\\n    \\\"Missing ldm\\\",\\n    \\\"Missing weight\\\",\\n    \\\"Missing price\\\",\\n    \\\"Missing carTypeName\\\",\\n    \\\"Missing distance\\\",\\n    \\\"Missing isAdrOrder\\\",\\n    \\\"Missing canGroupWithAdr\\\"\\n  ],\\n  \\\"reasoning\\\": \\\"The provided data contains multiple missing values for crucial group and order properties, making it impossible to evaluate the group's efficiency.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Populate all missing fields with relevant data.\\\",\\n    \\\"Verify that all orders are compatible with the same car type.\\\",\\n    \\\"Check if the pickup and delivery time windows are feasible and do not overlap.\\\",\\n    \\\"Ensure that the total LDM and weight of all orders are within the truck's capacity (LDM < 13.6, Weight < 24t).\\\",\\n    \\\"Confirm that there are no ADR conflicts among the orders.\\\",\\n    \\\"Calculate the price per kilometer and verify that it falls within the acceptable range (1.5-2.5 €/km).\\\",\\n    \\\"Analyze the pickup and delivery locations to determine if they are geographically close and efficient to combine.\\\"\\n  ]\\n}\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"avgLogprobs\":-0.13850160078568893}],\"usageMetadata\":{\"promptTokenCount\":513,\"candidatesTokenCount\":451,\"totalTokenCount\":964,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":513}],\"candidatesTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":451}]},\"modelVersion\":\"gemini-2.0-flash\"},\"usage\":{\"inputCharacters\":1622,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":1826,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":513,\"outputTokens\":451,\"totalTokens\":964},\"latencyMs\":3093.889125049114}","genkit:state":"success"},"displayName":"googleai/gemini-2.0-flash","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"9c036c10157ade69":{"spanId":"9c036c10157ade69","traceId":"90c9023398c52a3abd3f436a6226688f","startTime":1746887618374,"endTime":1746887621537.789,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"groupingHelperFlow","genkit:isRoot":true,"genkit:path":"/{groupingHelperFlow,t:flow}","genkit:metadata:context":"{}","genkit:input":"{\"groupID\":\"\",\"totalDistance\":0,\"pricePerKm\":0,\"totalPrice\":0,\"totalLDM\":0,\"totalWeight\":0,\"orders\":[{\"orderID\":\"\",\"orderName\":\"\",\"pickupPlace\":{\"countryCode\":\"\",\"postalCode\":\"\",\"name\":\"\",\"code\":\"\",\"latitude\":0,\"longitude\":0},\"deliveryPlace\":{\"countryCode\":\"\",\"postalCode\":\"\",\"name\":\"\",\"code\":\"\",\"latitude\":0,\"longitude\":0},\"pickupTimeWindow\":{\"start\":\"\",\"end\":\"\"},\"deliveryTimeWindow\":{\"start\":\"\",\"end\":\"\"},\"ldm\":0,\"weight\":0,\"price\":0,\"carTypeName\":\"\",\"distance\":0,\"isAdrOrder\":false,\"canGroupWithAdr\":false}]}","genkit:state":"error"},"displayName":"groupingHelperFlow","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"result.text is not a function"},"timeEvents":{"timeEvent":[{"time":1746887621537.698,"annotation":{"attributes":{"exception.type":"TypeError","exception.message":"result.text is not a function","exception.stacktrace":"TypeError: result.text is not a function\n    at file:///Users/red/StudioProjects/ai_logistics_management_order_automation/genkit_backend/src/flows/groupingHelper.js:102:31\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /Users/red/StudioProjects/ai_logistics_management_order_automation/genkit_backend/node_modules/@genkit-ai/core/lib/flow.js:44:14\n    at async /Users/red/StudioProjects/ai_logistics_management_order_automation/genkit_backend/node_modules/@genkit-ai/core/lib/action.js:210:14\n    at async /Users/red/StudioProjects/ai_logistics_management_order_automation/genkit_backend/node_modules/@genkit-ai/core/lib/action.js:131:27\n    at async /Users/red/StudioProjects/ai_logistics_management_order_automation/genkit_backend/node_modules/@genkit-ai/core/lib/tracing/instrumentation.js:65:16\n    at async /Users/red/StudioProjects/ai_logistics_management_order_automation/genkit_backend/node_modules/@genkit-ai/core/lib/tracing/instrumentation.js:88:24\n    at async runInNewSpan (/Users/red/StudioProjects/ai_logistics_management_order_automation/genkit_backend/node_modules/@genkit-ai/core/lib/tracing/instrumentation.js:77:10)\n    at async newTrace (/Users/red/StudioProjects/ai_logistics_management_order_automation/genkit_backend/node_modules/@genkit-ai/core/lib/tracing/instrumentation.js:52:10)\n    at async actionFn.run (/Users/red/StudioProjects/ai_logistics_management_order_automation/genkit_backend/node_modules/@genkit-ai/core/lib/action.js:99:18)"},"description":"exception"}}]}}},"displayName":"groupingHelperFlow","startTime":1746887618374,"endTime":1746887621537.789}